(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdd4a464"],{"3fc2":function(t,s,i){},d2f1:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"main-container"},[i("el-carousel",{attrs:{interval:4e3,type:"card",height:"300px"}},t._l(t.slideshow,(function(t,s){return i("el-carousel-item",{key:s,staticClass:"carousel-item"},[i("img",{staticClass:"carousel-image",attrs:{src:t.image,alt:"Slideshow image"}})])})),1),i("div",{staticClass:"category-nav"},t._l(t.categories,(function(s){return i("button",{key:s,class:{active:t.currentCategory===s},on:{click:function(i){return t.fetchProducts(s)}}},[t._v(" "+t._s(s)+" ")])})),0),i("div",{staticClass:"main-content"},[i("div",{staticClass:"product-list"},t._l(t.products,(function(s){return i("div",{key:s._id,staticClass:"product-item"},[i("router-link",{attrs:{to:"/goods/"+s._id}},[i("img",{staticClass:"product-image",attrs:{src:s.image,alt:"product image"}}),i("div",{staticClass:"product-info"},[i("h2",[t._v(t._s(s.name))]),i("p",[t._v(t._s(s.description))]),i("span",{staticClass:"product-price"},[t._v("Price: $"+t._s(s.price))])])])],1)})),0)]),t.isLoading?i("div",{staticClass:"loading"},[t._v("加载中...")]):t._e()],1)},e=[],c={data(){return{products:[],slideshow:[],isLoading:!1,currentCategory:"CPU",categories:["CPU","GPU","苹果","协处理器","其他"]}},methods:{async fetchProducts(t){this.isLoading=!0;try{const s=await this.$http.get("products?category="+t);this.products=s.data}catch(s){console.error("获取商品数据失败",s)}finally{this.isLoading=!1}},async fetchSlideshow(){try{const t=await this.$http.get("slideshows");this.slideshow=await Promise.all(t.data.map(async t=>{const s=await this.$http.get("products/"+t.productId);return s.data}))}catch(t){console.error("获取轮播图数据失败",t)}}},mounted(){this.fetchProducts(this.currentCategory),this.fetchSlideshow()}},r=c,o=(i("de25"),i("d34b")),n=Object(o["a"])(r,a,e,!1,null,"451d5183",null);s["default"]=n.exports},de25:function(t,s,i){"use strict";i("3fc2")}}]);